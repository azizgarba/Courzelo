
<app-side-bar></app-side-bar>
<div class="all-tests-container">
    <div class="container-fluid">
            <div class="content-page">
                <div class="content">
                    
                    <!-- Start Content-->
                    <div class="container-fluid">
                        <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box page-title-box-alt">
                                
                                <h4 class="page-title">Upcoming Events</h4>
                            </div>
                        </div>
                    </div>     
<!-- end page title --> 

                        
                        <div class="row">
                            <div class="col-sm-4">
                                <button type="button" data-bs-toggle="modal" class="btn btn-purple rounded-pill w-md waves-effect waves-light mb-3" data-bs-target="#update-modal"><i class="mdi mdi-plus"></i>Add New Event</button>
                            </div>
                            <!--<div class="col-sm-8">
                                <div class="float-end">
                                        <form class="row g-2 align-items-center mb-2 mb-sm-0">
                                            <div class="col-auto">
                                                <div class="d-flex">
                                                    <label class="d-flex align-items-center">Phase
                                                        <select class="form-select form-select-sm d-inline-block ms-2">
                                                            <option>All Projects(6)</option>
                                                            <option>Complated</option>
                                                            <option>Progress</option>
                                                        </select>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-auto">
                                                <div class="d-flex">
                                                    <label class="d-flex align-items-center">Sort
                                                        <select class="form-select form-select-sm d-inline-block ms-2">
                                                        <option>Date</option>
                                                            <option>Name</option>
                                                            <option>End date</option>
                                                            <option>Start Date</option>
                                                        </select>
                                                    </label>
                                                </div>
                                            </div>
                                        </form>
                                </div>
                            </div> end col-->
                        </div>
                        <!-- end row -->


                        <div class="row">
                            <div class="col-xl-4" *ngFor="let e of events">
                                <div class="card">
                                    <div class="card-body project-box">
                                        <button class="badge bg-success float-end" data-bs-target="#edit-modal" data-bs-toggle="modal" (click)="getInfos(e)">UPDATE</button>
                                        <button class="badge bg-pink float-end" data-bs-target="#delete-modal" data-bs-toggle="modal" (click)="getInfos(e)" >DELETE</button>

                                        <h4 class="mt-0"><a href="" class="text-dark">{{ e.name }}</a></h4>
                                        <p class="text-success text-uppercase font-13">{{ e.location }}</p>
                                        <h5> Date : {{ formatDate(e.date) }}</h5>

                                        <p class="text-muted font-13">{{ e.description }}</p>
                        
                                        <h5>Price : {{ e.price }} TND</h5>
                                        
    
                                        <h5>Progress <span class="text-success float-end">{{ e.estimation }}%</span></h5>
                                        <div class="progress progress-bar-alt-success progress-sm">
                                            <div class="progress-bar bg-success progress-animated wow animated animated"
                                                    role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"
                                                    [style.width]="e.estimation + '%'" style="width: 80%; visibility: visible; animation-name: animationProgress;">
                                            </div><!-- /.progress-bar .progress-bar-danger -->
                                        </div><!-- /.progress .no-rounded -->
    
                                    </div>
                                </div>
                                
                            </div><!-- end col-->

                            <!--<div class="col-xl-4">
                                <div class="card">
                                <div class="card-body project-box">
                                    <div class="badge bg-primary float-end">Completed</div>
                                    <h4 class="mt-0"><a href="" class="text-dark">App Design and Develop</a></h4>
                                    <p class="text-primary text-uppercase font-13">Android</p>
                                    <p class="text-muted font-13">New common language will be more simple and regular than the existing European languages...<a href="#" class="text-primary">View more</a>
                                    </p>

                                    <ul class="list-inline">
                                        <li class="list-inline-item me-4">
                                            <h4 class="mb-0">77</h4>
                                            <p class="text-muted">Questions</p>
                                        </li>
                                        <li class="list-inline-item">
                                            <h4 class="mb-0">875</h4>
                                            <p class="text-muted">Comments</p>
                                        </li>
                                    </ul>

                                    <div class="project-members mb-2">
                                        <h5 class="float-start me-3">Team :</h5>
                                        <div class="avatar-group">
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Mat Helme">
                                                <img src="../assets/images/users/user-5.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Michael Zenaty">
                                                <img src="../assets/images/users/user-6.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="James Anderson">
                                                <img src="../assets/images/users/user-7.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>

                                        </div>
                                    </div>

                                    <h5>Progress <span class="text-primary float-end">45%</span></h5>
                                    <div class="progress progress-bar-alt-primary progress-sm">
                                        <div class="progress-bar bg-primary progress-animated wow animated animated"
                                                role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"
                                                style="width: 45%;">
                                        </div>
                                    </div>

                                </div>
                                </div>
                            </div>

                            <div class="col-xl-4">
                                <div class="card">
                                <div class="card-body project-box">
                                    <div class="badge bg-pink float-end">Completed</div>
                                    <h4 class="mt-0"><a href="" class="text-dark">Landing page Design</a></h4>
                                    <p class="text-pink text-uppercase font-13">Web Design</p>
                                    <p class="text-muted font-13">It will be as simple as occidental in fact it will be to an english person it will seem like simplified English...<a href="#" class="text-primary">view more</a>
                                    </p>

                                    <ul class="list-inline">
                                        <li class="list-inline-item me-4">
                                            <h4 class="mb-0">87</h4>
                                            <p class="text-muted">Questions</p>
                                        </li>
                                        <li class="list-inline-item">
                                            <h4 class="mb-0">125</h4>
                                            <p class="text-muted">Comments</p>
                                        </li>
                                    </ul>

                                    <div class="project-members mb-2">
                                        <h5 class="float-start me-3">Team :</h5>
                                        <div class="avatar-group">
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Mat Helme">
                                                <img src="../assets/images/users/user-8.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Michael Zenaty">
                                                <img src="../assets/images/users/user-9.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="James Anderson">
                                                <img src="../assets/images/users/user-10.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Mat Helme">
                                                <img src="../assets/images/users/user-1.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
    
                                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top" title="Joel Heffner">
                                                <img src="../assets/images/users/user-2.jpg" class="rounded-circle avatar-sm" alt="friend" />
                                            </a>
                                        </div>
                                    </div>
                                    

                                    <h5>Progress <span class="text-pink float-end">68%</span></h5>
                                    <div class="progress progress-bar-alt-pink progress-sm">
                                        <div class="progress-bar bg-pink progress-animated wow animated animated"
                                                role="progressbar" aria-valuenow="68" aria-valuemin="0" aria-valuemax="100"
                                                style="width: 68%;">
                                        </div>
                                    </div>

                                </div>
                                </div>
                            </div> -->
                        </div>
                        <!-- end row -->


                             
                        
                    </div> <!-- container-fluid -->
                    
                    <!-- modal -->
                <div class="modal fade" id="update-modal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-light">
                                <h4 class="modal-title" id="myCenterModalLabel">Add New Event</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
                            </div>
                            <div class="modal-body">
                                <form [formGroup]="addform">
                                    
                                    <div class="mb-3">
                                        <label class="form-label">Event Date</label>
                                        <input type="date" class="form-control" formControlName="date" required>
                                        <div class="invalid-feedback">Please provide a valid Session Date</div>
                                    </div>
                                    
                                    <div class="cs-form">
                                        <label class="form-label">Event Name</label>
                                        <input type="text" class="form-control" formControlName="name" required>
                                      </div>
            
                                      <div class="cs-form">
                                        <label class="form-label">Event Location</label>
                                        <input type="text" class="form-control" formControlName="location" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>
                                      <div class="cs-form">
                                        <label class="form-label">Event Price</label>
                                        <input type="number" class="form-control" formControlName="price" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>
                                      <div class="cs-form">
                                        <label class="form-label">Event Description</label>
                                        <input type="text" class="form-control" formControlName="description" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>
                                      <div class="mb-3">
                                        <label class="form-label">Category</label>
                                        <select class="form-select" name="status" id="event-category" required formControlName="category">
                                            <option value="sport" selected>Sport</option>
                                            <option value="tech">Technologie</option>
                                            <option value="Loisir">Loisir</option>
                                            
                                        </select>
                                        <div class="invalid-feedback">Please select an option</div>
                                    </div>

                                      
                                   
                                    
                                    <div class="row mt-2 justify-content-end">
                                       
                                        <div class="col-md-6 col-8 text-end">
                                            <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">Close</button>
                                            <button type="submit" class="btn btn-success" (click)="addEvent()" data-bs-dismiss="modal" >Save</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->
                <div class="modal fade" id="edit-modal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-light">
                                <h4 class="modal-title" id="myCenterModalLabel">Edit Event</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
                            </div>
                            <div class="modal-body">
                                <form [formGroup]="editform">
                                    
                                    <div class="mb-3">
                                        <label class="form-label">Event Date</label>
                                        <input type="date" class="form-control" formControlName="date" required>
                                        <div class="invalid-feedback">Please provide a valid Session Date</div>
                                    </div>
                                    
                                    <div class="cs-form">
                                        <label class="form-label">Event Name</label>
                                        <input type="text" class="form-control" formControlName="name" required>
                                      </div>
            
                                      <div class="cs-form">
                                        <label class="form-label">Event Location</label>
                                        <input type="text" class="form-control" formControlName="location" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>
                                      <div class="cs-form">
                                        <label class="form-label">Event Price</label>
                                        <input type="number" class="form-control" formControlName="price" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>
                                      <div class="cs-form">
                                        <label class="form-label">Event Description</label>
                                        <input type="text" class="form-control" formControlName="description" required>
                                        <div class="invalid-feedback">Please provide a valid End Time</div>
                                      </div>

                                      
                                   
                                    
                                    <div class="row mt-2 justify-content-end">
                                       
                                        <div class="col-md-6 col-8 text-end">
                                            <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">Close</button>
                                            <button type="submit" class="btn btn-success" (click)="UpdateEvent()" data-bs-dismiss="modal" >Save</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->
                <div class="modal fade" id="delete-modal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-light">
                                <h4 class="modal-title" id="myCenterModalLabel"> Are you sure to Delete this  Event</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
                            </div>
                            <div class="modal-body">
                                
                                <div class="col-md-6 col-8 text-end">
                                    <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">No</button>
                                    <button type="submit" class="btn btn-success" (click)="DeleteEvent()" data-bs-dismiss="modal" >Yes</button>
                                </div>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->
                </div> <!-- content -->

                

                <!-- Footer Start -->
<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <script>document.write(new Date().getFullYear())</script> &copy; Adminto theme by <a href="">Coderthemes</a> 
            </div>
            <div class="col-md-6">
                <div class="text-md-end footer-links d-none d-sm-block">
                    <a href="javascript:void(0);">About Us</a>
                    <a href="javascript:void(0);">Help</a>
                    <a href="javascript:void(0);">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- end Footer -->
</div>
    </div></div>