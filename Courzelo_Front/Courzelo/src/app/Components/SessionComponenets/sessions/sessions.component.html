<app-side-bar></app-side-bar>
<div class="all-tests-container">
  <div class="container-fluid">


    <div class="container-fluid">
      <div class="row">
        


    
      <!-- container -->
      <!-- Start Content-->
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-body">
                <div class=" row justify-content-sm-end">
                    <h5 class="col-lg-10">Table Of Session</h5>
                    <div class="col-lg-2 justify-content-sm-end" >
                        <div class="mt-3 mt-md-0">
                          <button 
                            type="button"
                            class="btn btn-success waves-effect waves-light"
                            data-bs-toggle="modal"
                            data-bs-target="#custom-generate">
                            <i class="mdi mdi-plus-circle me-1"></i> Generate
                          </button>
                        </div>
                      </div>
                </div>
                
                <div class="table-responsive">
                  <table class="table table-centered mb-0" id="btn-editable">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Teacher</th>
                        <th>Class</th>
                        <th>Action</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr *ngFor="let p of sessions">
                        <td>{{ p.date.toString() | slice:0:8 }}</td>
                        <td>{{ p.date.toString() | slice:9:14 }}</td>
                        <td *ngIf="p.teacher"> {{ p.teacher.firstName.toString()}}</td>
                        <td *ngIf="p.aclass">{{ p.aclass.name.toString() }}</td>
                        <!--<td>{{ p.date | date : "yyyy-MM-dd" }}</td>
                        <td>{{ p.startTime.toString() }}</td>
                        <td>{{ p.endTime.toString() }}</td>
                        <td><button type="button" class="btn btn-warning waves-effect waves-light" data-bs-toggle="modal"
                            data-bs-target="#update-modal" (click)="getInfos(p)">Edit</button></td>-->

                      </tr>
                    </tbody>
                  </table>
                </div>
                <!-- end .table-responsive-->
              </div>
              <!-- end card-body -->
            </div>
            <!-- end card -->
          </div>
          <!-- end col -->
        </div>
        <!-- end row -->
      </div>
      <!-- container -->
    </div>
    <!-- content -->

    <!-- Modal -->
    <div class="modal fade" id="update-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h4 class="modal-title" id="myCenterModalLabel">Edit Session</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="editform">
                        
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" formControlName="date" required>
                            <div class="invalid-feedback">Please provide a valid Session Date</div>
                        </div>
                        
                        <div class="cs-form">
                            <label class="form-label">Start Time</label>
                            <input type="time" class="form-control" value="10:05 AM" formControlName="startTime" required>
                            <div class="invalid-feedback">Please provide a valid Start Time</div>
                          </div>

                          <div class="cs-form">
                            <label class="form-label">End Time</label>
                            <input type="time" class="form-control" value="10:05 AM" formControlName="endTime" required>
                            <div class="invalid-feedback">Please provide a valid End Time</div>
                          </div>
                       
                        <div class="mb-3">
                            <label class="form-label">Class</label>
                            <div class="input-group">
                                <button class="btn input-group-text btn-primary waves-effect waves-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button>
                                <div class="dropdown-menu" required>
                                    <a class="dropdown-item" href="#">SAE5</a>
                                    <a class="dropdown-item" href="#">SAE6</a>
                                    <a class="dropdown-item" href="#">SAE7</a>
                                </div>
                                <div class="invalid-feedback">Please Choose a Class</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Teacher</label>
                            <div class="input-group">
                                <button class="btn input-group-text btn-primary waves-effect waves-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Samir</a>
                                    <a class="dropdown-item" href="#">Mohsen</a>
                                    <a class="dropdown-item" href="#">Lotfi</a>
                                </div>
                                <div class="invalid-feedback">Please Choose a Teacher</div>
                            </div>
                        </div>
                        <div class="row mt-2 justify-content-end">
                           
                            <div class="col-md-6 col-8 text-end">
                                <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-success"  (click)="update()" data-bs-dismiss="modal" >Save</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    <div class="modal fade" id="custom-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h4 class="modal-title" id="myCenterModalLabel">Add Session</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="formbuilder">
                        
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" formControlName="date">
                        </div>
                        
                        <div class="cs-form">
                            <label class="form-label">Start Time</label>
                            <input type="time" class="form-control" value="10:05 AM" formControlName="startTime"/>
                          </div>

                          <div class="cs-form">
                            <label class="form-label">End Time</label>
                            <input type="time" class="form-control" value="10:05 AM" formControlName="endTime" />
                          </div>
                       
                        <div class="mb-3">
                            <label class="form-label">Class</label>
                            <div class="input-group">
                                <button class="btn input-group-text btn-primary waves-effect waves-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">SAE5</a>
                                    <a class="dropdown-item" href="#">SAE6</a>
                                    <a class="dropdown-item" href="#">SAE7</a>
                                </div>
                                <input type="text" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Teacher</label>
                            <div class="input-group">
                                <button class="btn input-group-text btn-primary waves-effect waves-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Samir</a>
                                    <a class="dropdown-item" href="#">Mohsen</a>
                                    <a class="dropdown-item" href="#">Lotfi</a>
                                </div>
                                <input type="text" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="row mt-2 justify-content-end">
                           
                            <div class="col-md-6 col-8 text-end">
                                <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-success"  (click)="ajouter()" data-bs-dismiss="modal" >Save</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="modal fade" id="custom-generate" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
              <div class="modal-header bg-light">
                  <h4 class="modal-title" id="myCenterModalLabel">Generate Schedule</h4>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
              </div>
              <div class="modal-body">
                  <form [formGroup]="genform">
                      
                      <div class="mb-3">
                          <label class="form-label">Pick Start Date </label>
                          <input type="datetime-local" class="form-control" formControlName="date">
                      </div>
                      
                 
                      <div class="row mt-2 justify-content-end">
                         
                          <div class="col-md-6 col-8 text-end">
                              <button type="button" class="btn btn-light me-1" data-bs-dismiss="modal">Close</button>
                              <button type="submit" class="btn btn-success"  (click)="generate()" data-bs-dismiss="modal" >Generate</button>
                          </div>
                      </div>
                  </form>
              </div>
          </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

    <!-- Footer Start -->
    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6">
            <script>
              document.write(new Date().getFullYear());
            </script>
            &copy; Adminto theme by <a href="">Coderthemes</a>
          </div>
          <div class="col-md-6">
            <div class="text-md-end footer-links d-none d-sm-block">
              <a href="javascript:void(0);">About Us</a>
              <a href="javascript:void(0);">Help</a>
              <a href="javascript:void(0);">Contact Us</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- end Footer -->
  </div>
</div>
